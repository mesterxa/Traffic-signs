<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Traffic Quiz</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f2f4f8;
  }

  header{
    background:#0b2c5d;
    color:white;
    padding:15px;
    text-align:center;
    font-size:20px;
    font-weight:bold;
  }

  .quiz-card{
    background:white;
    max-width:420px;
    margin:40px auto;
    padding:20px;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,.15);
    text-align:center;
  }

  .quiz-card img{
    width:140px;
    margin-bottom:15px;
  }

  .options button{
    width:100%;
    padding:12px;
    margin:8px 0;
    border:none;
    border-radius:10px;
    background:#163b78;
    color:white;
    font-size:16px;
    cursor:pointer;
  }

  .options button:hover{
    background:#0b2c5d;
  }

  .info{
    margin-top:10px;
    color:#555;
    font-size:14px;
  }

  /* Modal */
  .modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.55);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:10;
  }

  .modal.show{
    display:flex;
  }

  .modal-card{
    background:white;
    width:90%;
    max-width:350px;
    padding:25px;
    border-radius:16px;
    text-align:center;
  }

  .icon{
    font-size:60px;
    margin-bottom:10px;
  }

  .modal-actions{
    display:flex;
    gap:10px;
    margin-top:20px;
  }

  .modal-actions button{
    flex:1;
    padding:10px;
    border:none;
    border-radius:10px;
    font-size:15px;
    cursor:pointer;
  }

  #retryBtn,#restartExam{
    background:#e5e7eb;
  }

  #nextBtn{
    background:#16a34a;
    color:white;
  }

  #reviewBtn,#reviewSigns{
    background:#2563eb;
    color:white;
  }
</style>
</head>

<body>

<header>Traffic Quiz</header>

<div class="quiz-card">
  <img id="signImage" src="">
  <div class="options" id="options"></div>
  <div class="info" id="info"></div>
</div>

<!-- Question Result Modal -->
<div id="resultModal" class="modal">
  <div class="modal-card">
    <div class="icon" id="resultIcon"></div>
    <h3 id="resultTitle"></h3>
    <p id="resultText"></p>
    <div class="modal-actions">
      <button id="retryBtn">üîÅ Retry</button>
      <button id="nextBtn">‚û°Ô∏è Next</button>
      <button id="reviewBtn">üìò Review</button>
    </div>
  </div>
</div>

<!-- Final Result Modal -->
<div id="finalModal" class="modal">
  <div class="modal-card">
    <div class="icon" id="finalIcon"></div>
    <h3 id="finalTitle"></h3>
    <p id="finalText"></p>
    <div class="modal-actions">
      <button id="restartExam">üîÅ ÿ•ÿπÿßÿØÿ© ÿßŸÑÿßŸÖÿ™ÿ≠ÿßŸÜ</button>
      <button id="reviewSigns">üìò ÿßŸÑÿ∞Ÿáÿßÿ® ŸÑŸÑŸÖÿ±ÿßÿ¨ÿπÿ©</button>
    </div>
  </div>
</div>

<script>
const questions = [
  {
    img:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Stop_sign.svg/512px-Stop_sign.svg.png",
    options:["Stop","No entry","Parking"],
    answer:"Stop"
  },
  {
    img:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/No_entry.svg/512px-No_entry.svg.png",
    options:["Stop","No entry","Danger"],
    answer:"No entry"
  },
  {
    img:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Children_crossing.svg/512px-Children_crossing.svg.png",
    options:["School","Pedestrians","Children"],
    answer:"Children"
  }
];

let index = 0;
let score = 0;

const signImage = document.getElementById("signImage");
const optionsBox = document.getElementById("options");
const info = document.getElementById("info");

const resultModal = document.getElementById("resultModal");
const finalModal = document.getElementById("finalModal");

const resultIcon = document.getElementById("resultIcon");
const resultTitle = document.getElementById("resultTitle");
const resultText = document.getElementById("resultText");

const retryBtn = document.getElementById("retryBtn");
const nextBtn = document.getElementById("nextBtn");
const reviewBtn = document.getElementById("reviewBtn");

const finalIcon = document.getElementById("finalIcon");
const finalTitle = document.getElementById("finalTitle");
const finalText = document.getElementById("finalText");
const restartExam = document.getElementById("restartExam");
const reviewSigns = document.getElementById("reviewSigns");

function loadQuestion(){
  const q = questions[index];
  signImage.src = q.img;
  optionsBox.innerHTML = "";
  info.textContent = `Question ${index+1}/${questions.length} | Score: ${score}`;

  q.options.forEach(opt=>{
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = ()=>checkAnswer(opt);
    optionsBox.appendChild(btn);
  });
}

function checkAnswer(answer){
  resultModal.classList.add("show");

  if(answer === questions[index].answer){
    score += 10;
    resultIcon.textContent = "‚úÖ";
    resultTitle.textContent = "Correct!";
    resultText.textContent = "Good job üöó";
  } else {
    resultIcon.textContent = "‚ùå";
    resultTitle.textContent = "Wrong!";
    resultText.textContent = "Try again";
  }
}

retryBtn.onclick = ()=>{
  resultModal.classList.remove("show");
};

reviewBtn.onclick = ()=>{
  location.href = "signs.html";
};

nextBtn.onclick = ()=>{
  resultModal.classList.remove("show");
  index++;

  if(index < questions.length){
    loadQuestion();
  } else {
    showFinalResult();
  }
};

function showFinalResult(){
  finalModal.classList.add("show");

  if(score >= 20){
    finalIcon.textContent = "üéâ";
    finalTitle.textContent = "ÿ™ŸáÿßŸÜŸäŸÜÿß!";
    finalText.textContent = `ŸÑŸÇÿØ ÿ£ŸÉŸÖŸÑÿ™ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿ®ŸÜÿ¨ÿßÿ≠\nŸÜÿ™Ÿäÿ¨ÿ™ŸÉ: ${score}/30`;
  } else {
    finalIcon.textContent = "üìò";
    finalTitle.textContent = "ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ŸÖÿ±ÿßÿ¨ÿπÿ©";
    finalText.textContent = `ŸÜÿ™Ÿäÿ¨ÿ™ŸÉ: ${score}/30\nŸÜŸÜÿµÿ≠ŸÉ ÿ®ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ•ÿ¥ÿßÿ±ÿßÿ™`;
  }

  restartExam.onclick = ()=>location.reload();
  reviewSigns.onclick = ()=>location.href = "signs.html";
}

loadQuestion();
</script>

</body>
</html>