<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quizzes ‚Äì DriveLearn</title>

<style>
:root{
  --primary:#2563eb;
  --primary-dark:#1e40af;
  --bg:#f8fafc;
  --card:#ffffff;
  --radius:18px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:"Segoe UI",system-ui,sans-serif;
  background:var(--bg);
  min-height:100vh;
}

.navbar{
  display:flex;
  align-items:center;
  gap:16px;
  padding:14px 20px;
  background:var(--primary);
  color:white;
}

.navbar a{
  color:white;
  text-decoration:none;
  font-weight:500;
}

.logo{height:34px}

.container{
  max-width:520px;
  margin:40px auto;
  padding:0 16px;
}

.quiz-card{
  background:var(--card);
  padding:28px;
  border-radius:var(--radius);
  box-shadow:0 18px 40px rgba(0,0,0,.12);
  text-align:center;
}

.sign{
  font-size:90px;
  margin:20px 0;
}

.options button{
  width:100%;
  padding:14px;
  margin-top:14px;
  border:none;
  border-radius:12px;
  background:var(--primary);
  color:white;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
}

.options button:hover{
  background:var(--primary-dark);
}

.progress{
  margin-top:18px;
  font-weight:600;
  opacity:.7;
}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

.modal.show{display:flex}

.modal-card{
  background:white;
  width:90%;
  max-width:340px;
  padding:28px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,.25);
}

.modal-card .icon{
  font-size:60px;
}

.modal-actions{
  display:flex;
  gap:10px;
  margin-top:20px;
}

.modal-actions button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
}

#retryBtn{background:#e5e7eb}
#nextBtn{background:#22c55e;color:white}
#learnBtn{background:var(--primary);color:white}
</style>
</head>

<body>

<div class="navbar">
  <img src="logo.png" class="logo">
  <a href="index.html">Home</a>
</div>

<div class="container">
  <div class="quiz-card">
    <h2>Traffic Quiz</h2>
    <div id="sign" class="sign">üö¶</div>
    <div id="options" class="options"></div>
    <div id="progress" class="progress"></div>
  </div>
</div>

<!-- Modal -->
<div id="resultModal" class="modal">
  <div class="modal-card">
    <div id="resultIcon" class="icon"></div>
    <h3 id="resultTitle"></h3>
    <p id="resultText"></p>

    <div class="modal-actions">
      <button id="retryBtn">üîÅ Retry</button>
      <button id="nextBtn">‚û°Ô∏è Next</button>
      <button id="learnBtn">üìò Review</button>
    </div>
  </div>
</div>

<script>
const questions = [
  { sign:"üõë", correct:"Stop", options:["Stop","No entry","Danger"], signId:"stop" },
  { sign:"‚õî", correct:"No entry", options:["Stop","No entry","Parking"], signId:"no-entry" },
  { sign:"üö∏", correct:"Pedestrians", options:["School","Pedestrians","Children"], signId:"pedestrians" }
];

let index = 0;
let score = 0;
let lastCorrect = false;

function loadQuestion(){
  const q = questions[index];
  sign.textContent = q.sign;
  options.innerHTML = "";

  q.options.forEach(o=>{
    const b = document.createElement("button");
    b.textContent = o;
    b.onclick = ()=>answer(o);
    options.appendChild(b);
  });

  progress.textContent = `Question ${index+1}/${questions.length} | Score: ${score}`;
}

function answer(choice){
  const q = questions[index];
  lastCorrect = choice === q.correct;
  if(lastCorrect) score += 10;

  showModal(q.signId);
}

function showModal(signId){
  resultModal.classList.add("show");
  resultIcon.textContent = lastCorrect ? "‚úÖ" : "‚ùå";
  resultTitle.textContent = lastCorrect ? "Correct!" : "Wrong";
  resultText.textContent = lastCorrect ? "Good job üöó" : "Review the sign";

  retryBtn.onclick = ()=>{
    resultModal.classList.remove("show");
  };

  nextBtn.onclick = ()=>{
    resultModal.classList.remove("show");
    index++;
    if(index < questions.length){
      loadQuestion();
    } else {
      alert("Quiz Finished üéâ\nScore: " + score);
    }
  };

  learnBtn.onclick = ()=>{
    location.href = `signs.html?sign=${signId}`;
  };
}

loadQuestion();
</script>

</body>
</html>