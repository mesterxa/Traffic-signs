<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Traffic Quiz â€“ DriveLearn</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --primary:#2563eb;
  --primary-dark:#1e40af;
  --bg:#f8fafc;
  --card:#ffffff;
  --radius:16px;
}

body{
  margin:0;
  font-family:"Segoe UI",system-ui;
  background:var(--bg);
}

/* Header */
header{
  background:linear-gradient(135deg,var(--primary),var(--primary-dark));
  color:white;
  padding:16px;
  text-align:center;
  font-size:20px;
  font-weight:700;
}

/* Quiz Card */
.quiz-card{
  background:var(--card);
  max-width:420px;
  margin:40px auto;
  padding:26px;
  border-radius:var(--radius);
  box-shadow:0 15px 35px rgba(0,0,0,.15);
  text-align:center;
}

.quiz-card img{
  width:140px;
  margin-bottom:15px;
}

/* Options */
.options button{
  width:100%;
  padding:13px;
  margin:8px 0;
  border:none;
  border-radius:12px;
  background:var(--primary);
  color:white;
  font-size:16px;
  cursor:pointer;
  transition:.25s;
}

.options button:hover{
  background:var(--primary-dark);
}

.info{
  margin-top:12px;
  color:#555;
  font-size:14px;
}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:10;
}

.modal.show{ display:flex; }

.modal-card{
  background:white;
  width:90%;
  max-width:360px;
  padding:26px;
  border-radius:18px;
  text-align:center;
}

.icon{
  font-size:58px;
  margin-bottom:10px;
}

.modal-actions{
  display:flex;
  gap:10px;
  margin-top:22px;
}

.modal-actions button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:12px;
  font-size:15px;
  cursor:pointer;
}

#retryBtn,#restartExam{
  background:#e5e7eb;
}

#nextBtn{
  background:#16a34a;
  color:white;
}

#reviewBtn,#reviewSigns{
  background:var(--primary);
  color:white;
}
</style>
</head>

<body>

<header>ğŸš¦ Traffic Quiz</header>

<div class="quiz-card">
  <img id="signImage">
  <div class="options" id="options"></div>
  <div class="info" id="info"></div>
</div>

<!-- Answer Modal -->
<div id="resultModal" class="modal">
  <div class="modal-card">
    <div class="icon" id="resultIcon"></div>
    <h3 id="resultTitle"></h3>
    <p id="resultText"></p>
    <div class="modal-actions">
      <button id="retryBtn">ğŸ” Retry</button>
      <button id="nextBtn">â¡ï¸ Next</button>
      <button id="reviewBtn">ğŸ“˜ Review</button>
    </div>
  </div>
</div>

<!-- Final Modal -->
<div id="finalModal" class="modal">
  <div class="modal-card">
    <div class="icon" id="finalIcon"></div>
    <h3 id="finalTitle"></h3>
    <p id="finalText"></p>
    <div class="modal-actions">
      <button id="restartExam">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
      <button id="reviewSigns">ğŸ“˜ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</button>
    </div>
  </div>
</div>

<script>
const questions = [
  {
    id:"stop",
    img:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Stop_sign.svg/512px-Stop_sign.svg.png",
    options:["Stop","No entry","Parking"],
    answer:"Stop"
  },
  {
    id:"no-entry",
    img:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/No_entry.svg/512px-No_entry.svg.png",
    options:["Stop","No entry","Danger"],
    answer:"No entry"
  },
  {
    id:"pedestrians",
    img:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Children_crossing.svg/512px-Children_crossing.svg.png",
    options:["School","Pedestrians","Children"],
    answer:"Children"
  }
];

let index = 0;
let score = 0;

const signImage = document.getElementById("signImage");
const optionsBox = document.getElementById("options");
const info = document.getElementById("info");

const resultModal = document.getElementById("resultModal");
const finalModal = document.getElementById("finalModal");

const resultIcon = document.getElementById("resultIcon");
const resultTitle = document.getElementById("resultTitle");
const resultText = document.getElementById("resultText");

const retryBtn = document.getElementById("retryBtn");
const nextBtn = document.getElementById("nextBtn");
const reviewBtn = document.getElementById("reviewBtn");

const finalIcon = document.getElementById("finalIcon");
const finalTitle = document.getElementById("finalTitle");
const finalText = document.getElementById("finalText");
const restartExam = document.getElementById("restartExam");
const reviewSigns = document.getElementById("reviewSigns");

function loadQuestion(){
  const q = questions[index];
  signImage.src = q.img;
  optionsBox.innerHTML = "";
  info.textContent = `Question ${index+1}/${questions.length} | Score: ${score}/30`;

  q.options.forEach(opt=>{
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = ()=>checkAnswer(opt);
    optionsBox.appendChild(btn);
  });
}

function checkAnswer(answer){
  resultModal.classList.add("show");

  if(answer === questions[index].answer){
    score += 10;
    resultIcon.textContent = "âœ…";
    resultTitle.textContent = "Correct!";
    resultText.textContent = "Good job ğŸš—";
  } else {
    resultIcon.textContent = "âŒ";
    resultTitle.textContent = "Wrong!";
    resultText.textContent = "Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¬ÙŠØ¯Ù‹Ø§";
  }
}

retryBtn.onclick = ()=>resultModal.classList.remove("show");

reviewBtn.onclick = ()=>{
  location.href = `signs.html?sign=${questions[index].id}`;
};

nextBtn.onclick = ()=>{
  resultModal.classList.remove("show");
  index++;
  if(index < questions.length) loadQuestion();
  else showFinalResult();
};

function showFinalResult(){
  finalModal.classList.add("show");

  if(score >= 20){
    finalIcon.textContent = "ğŸ‰";
    finalTitle.textContent = "ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!";
    finalText.textContent = `Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­\nÙ†ØªÙŠØ¬ØªÙƒ: ${score}/30`;
  } else {
    finalIcon.textContent = "ğŸ“˜";
    finalTitle.textContent = "ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø©";
    finalText.textContent = `Ù†ØªÙŠØ¬ØªÙƒ: ${score}/30\nÙ†Ù†ØµØ­Ùƒ Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª`;
  }

  restartExam.onclick = ()=>location.reload();
  reviewSigns.onclick = ()=>location.href="signs.html";
}

loadQuestion();
</script>

</body>
</html>